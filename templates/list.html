{% extends "layout.html" %}
{% block content %}
<body>
<form action="/list" method="get">
    <select name="order_direction">
        {% if not order_direction %} <option value="" selected disabled hidden>Choose here</option> {% endif %}
        <option value="asc" {% if order_direction == 'asc' %} selected="selected"{% endif %}>Ascending</option>
        <option value="desc" {% if order_direction == 'desc' %} selected="selected"{% endif %}>Descending</option>
    </select>
    <select name="order_by">
        {% if not order_by %} <option value="" selected disabled hidden>Choose here</option> {% endif %}
        <option value="title" {% if order_by == 'title' %} selected="selected"{% endif %}>Title</option>
        <option value="submission_time" {% if order_by == 'submission_time' %} selected="selected"{% endif %}>Date</option>
        <option value="view_number" {% if order_by == 'view_number' %} selected="selected"{% endif %}>View Number</option>
        <option value="vote_number" {% if order_by == 'vote_number' %} selected="selected"{% endif %}>Vote number</option>
    </select>
    <button type="submit">Order</button>
</form>
<a href="/add-question">Ask a new question</a>
<table>
    <tr>
        {% for header in headers %}
            <th> {{ header }}</th>
        {% endfor %}
    </tr>
    {% for id, question in questions.items() %}

        <tr>
            {% for label, value in question.items() %}
                {% if label == "title" %}
                    <td>
                        <a href="/question/{{ id }}">
                            {{ value }}
                        </a>
                    </td>
                {% elif label == "image" %}
                    <td> <img src="{{ cell }}"> </td>
                {% else %}
                    <td> {{ value }} </td>
                {% endif %}
            {% endfor %}
        </tr>

    {% endfor %}
</table>
{% endblock content %}